
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T3-protobuf挑战</title>
    <link rel="stylesheet" href="/static/css/protobuf_challenge.css">
    <link rel="stylesheet" href="/static/css/login-alert.css">
</head>
<body>
    <!-- 顶部导航栏 -->
    <nav class="top-navbar">
        <div class="navbar-container">
            <a href="/" class="nav-back-btn">
                <svg viewBox="0 0 24 24" width="20" height="20">
                    <path fill="currentColor" d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
                <span>返回首页</span>
            </a>
            <div class="navbar-title">
                <span class="navbar-icon">📊</span>
                <span>T3-protobuf挑战</span>
            </div>
            <div class="navbar-spacer"></div>
        </div>
    </nav>

    <!-- 主布局容器（添加侧边栏支持） -->
    <div class="page-wrapper">
        <div class="container">
            <!-- 页面标题 -->
            <div class="page-header">
                <h1 class="page-title">T3-protobuf挑战</h1>
                <p class="page-subtitle">Protobuf Challenge - 测试你的Protobuf协议处理技能</p>
            </div>

            <!-- 登录提示区域 -->
            <div id="loginAlert" class="login-alert" style="display: none;">
                <div class="login-alert-content">
                    <span class="login-alert-icon">🔐</span>
                    <span class="login-alert-text">请先登录才能参与挑战！</span>
                    <a href="/admin_I/" class="login-alert-btn">立即登录</a>
                </div>
            </div>

            <!-- 挑战内容 -->
            <div class="challenge-content" style="position: relative;">
                <div class="loading-overlay" id="loadingOverlay">
                    <div class="loading-spinner"></div>
                </div>

                <div class="challenge-header">
                    <h2 class="challenge-title">🎯 任务: 采集这100页的全部数字，计算加和并提交结果</h2>
                    <p class="challenge-description">每个页面包含10个随机数字，你需要采集所有100页的数字进行求和运算</p>
                </div>

                <div class="number-challenge">
                    <!-- 统计信息 -->
                    <div class="stats-info">
                        <div class="stat-item">
                            <span class="stat-number" id="currentPageNum">1</span>
                            <div class="stat-label">当前页</div>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="totalPages">100</span>
                            <div class="stat-label">总页数</div>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number" id="collectedPages">0</span>
                            <div class="stat-label">已采集页数</div>
                        </div>
                    </div>

                    <!-- 数字网格 -->
                    <div class="numbers-grid" id="numbersGrid">
                        <!-- 数字将通过JavaScript生成 -->
                    </div>
                </div>   

                <!-- 分页导航 -->   
                <div class="pagination-container">
                    <div class="pagination-info" id="paginationInfo">
                        第 1 页，共 100 页 | 当前页面包含 10 个数字
                    </div>
                    
                    <div class="pagination" id="paginationControls">
                        <button class="page-btn" onclick="changePage('prev')" id="prevBtn" disabled>← 上一页</button>
                        <button class="page-btn active" onclick="changePage(1)">1</button>
                        <button class="page-btn" onclick="changePage(2)">2</button>
                        <button class="page-btn" onclick="changePage(3)">3</button>
                        <button class="page-btn" onclick="changePage(4)">4</button>
                        <button class="page-btn" onclick="changePage(5)">5</button>
                        <button class="page-btn" onclick="changePage('next')" id="nextBtn">下一页 →</button>
                    </div>
                </div>
            </div>

            <!-- 答案提交区域 -->
            <div class="answer-section">
                <h3 class="answer-title">💡 提交你的计算结果</h3>
                <div class="answer-form">
                    <div class="input-group">
                        <label for="answerInput" class="input-label">请输入所有数字的总和:</label>
                        <input type="text" id="answerInput" class="answer-input" placeholder="例如: 45623" maxlength="10">
                    </div>
                    <button class="submit-btn" onclick="submitAnswer()">提交答案</button>
                </div>
                <div id="resultMessage" class="result-message"></div>
            </div>
        </div>

        <!-- 右侧专业侧边栏 -->
        <aside class="professional-sidebar">
            <!-- 挑战统计 -->
            <div class="sidebar-card">
                <div class="sidebar-card-header">
                    <span class="card-icon">📊</span>
                    <h4 class="card-title">挑战统计</h4>
                </div>
                <div class="sidebar-stats-simple">
                    <div class="stat-simple-item">
                        <div class="stat-simple-icon">📄</div>
                        <div class="stat-simple-text">
                            <div class="stat-simple-value" id="currentPageNum2">1</div>
                            <div class="stat-simple-label">当前页</div>
                        </div>
                    </div>
                    <div class="stat-simple-item">
                        <div class="stat-simple-icon">📚</div>
                        <div class="stat-simple-text">
                            <div class="stat-simple-value" id="totalPages2">100</div>
                            <div class="stat-simple-label">总页数</div>
                        </div>
                    </div>
                    <div class="stat-simple-item">
                        <div class="stat-simple-icon">✅</div>
                        <div class="stat-simple-text">
                            <div class="stat-simple-value" id="collectedPages2">0</div>
                            <div class="stat-simple-label">已采集</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 广告位 -->
            <div class="sidebar-card">
                <div class="sidebar-card-header">
                    <span class="card-icon">📢</span>
                    <h4 class="card-title">推广</h4>
                </div>
                <div class="ad-banner">
                    <div class="ad-image">
                        <a href="https://www.feimew.com/" target="_blank" class="feimew-ad-link">
                            <img src="/static/images/%E9%A3%9E%E7%8C%AB.gif" alt="飞猫代理" class="feimew-logo">
                        </a>
                    </div>
                    <div class="ad-info">
                        <!-- <h5 class="ad-name">飞猫代理</h5>
                        <p class="ad-desc">www.feimew.com</p> -->
                    </div>
                    <a href="https://www.feimew.com/register" target="_blank" class="ad-link">立即免费试用 →</a>
                </div>
            </div>
        </aside>
    </div>
    
    <div class="overlay" style="display: none;"></div>

    <!-- 引入外部JavaScript文件 -->
    <script src="/static/js/anti_automation.js"></script>
    <script src="/static/js/login-alert.js"></script>
    <script src="/static/js/protobuf_challenge.js"></script>
    <script src="/static/js/protobuf_min.js"></script>
    <script src="/static/js/jquery.js"></script>

</body>
</html>
