const _0x572e5c = (function () {
    let _0x5d36b5 = !![];
    return function (_0x194eb9, _0x3bfcaa) {
        const _0x4b1ef7 = _0x5d36b5 ? function () {
            if (_0x3bfcaa) {
                const _0xff7b49 = _0x3bfcaa['apply'](_0x194eb9, arguments);
                _0x3bfcaa = null;
                return _0xff7b49;
            }
        } : function () {
        };
        _0x5d36b5 = ![];
        return _0x4b1ef7;
    };
}());
const _0x43ad63 = _0x572e5c(this, function () {
    let _0x519471;
    try {
        const _0x1d9bf9 = Function('return\x20(function()\x20' + '{}.constructor(\x22return\x20this\x22)(\x20)' + ');');
        _0x519471 = _0x1d9bf9();
    } catch (_0xa95808) {
        _0x519471 = window;
    }
    const _0x4b676f = new RegExp('[uZOQVyUPfYqLJCgLEZZZkUgLfVHISZkKWOMFjCFVBQQYVDvkLBJETCLgCbIJPbBMzyfOFHADkGABLGXZVzESPGCLbXEJZYkEYfbHRzBNGWjQWbJXjJNERRfAYvRLXRqKDfqWBQkkqXYMCIzFWHVyjSOzIyCqAbzfvCgZzAkAHKRRqAkjVqMFVxBUgKTvMuXjQTFMkWUggvZkzqkSqNYNzjgkHURfHFYqSTUAFbQjyWMDPYkX]', 'g');
    const _0x12ab71 = 'uZOQVyU127P.0fY.0.q1;LlocJCgalLEhZZZkUost;gLflVHIocalSZkKhoWstO;12MFj7.0.0.1CF;VBQQlYoVcalhostD;vwkwwLBJE.spiTdeCLrdgCebIJmo.PbBcMzn;yfwOww.FHAsDpikderdGAemoB.LGXtZVozEpS;sPGCLpbXEJZiYkEdYfberHRzBNGdeWjmQWob.cn;spJXjJiderdeNERmRfoAY.tvopRLXRqKDfqWBQkkqXYMCIzFWHVyjSOzIyCqAbzfvCgZzAkAHKRRqAkjVqMFVxBUgKTvMuXjQTFMkWUggvZkzqkSqNYNzjgkHURfHFYqSTUAFbQjyWMDPYkX'['replace'](_0x4b676f, '')['split'](';');
    let _0x59cae7;
    let _0x256293;
    let _0x859b1b;
    let _0x55d173;
    const _0x474eeb = function (_0x5bc508, _0x5ed60a, _0xad965) {
        if (_0x5bc508['length'] != _0x5ed60a) {
            return ![];
        }
        for (let _0x382011 = 0x0; _0x382011 < _0x5ed60a; _0x382011++) {
            for (let _0x10c700 = 0x0; _0x10c700 < _0xad965['length']; _0x10c700 += 0x2) {
                if (_0x382011 == _0xad965[_0x10c700] && _0x5bc508['charCodeAt'](_0x382011) != _0xad965[_0x10c700 + 0x1]) {
                    return ![];
                }
            }
        }
        return !![];
    };
    const _0x4c3752 = function (_0x4a1683, _0x528950, _0x1375b4) {
        return _0x474eeb(_0x528950, _0x1375b4, _0x4a1683);
    };
    const _0x5eb691 = function (_0x4fd05d, _0x2264a7, _0x92806c) {
        return _0x4c3752(_0x2264a7, _0x4fd05d, _0x92806c);
    };
    const _0x19946b = function (_0x407b9b, _0xc29204, _0x5c37da) {
        return _0x5eb691(_0xc29204, _0x5c37da, _0x407b9b);
    };
    for (let _0x49f093 in _0x519471) {
        if (_0x474eeb(_0x49f093, 0x8, [
                0x7,
                0x74,
                0x5,
                0x65,
                0x3,
                0x75,
                0x0,
                0x64
            ])) {
            _0x59cae7 = _0x49f093;
            break;
        }
    }
    for (let _0x1a60f3 in _0x519471[_0x59cae7]) {
        if (_0x19946b(0x6, _0x1a60f3, [
                0x5,
                0x6e,
                0x0,
                0x64
            ])) {
            _0x256293 = _0x1a60f3;
            break;
        }
    }
    for (let _0x2f7918 in _0x519471[_0x59cae7]) {
        if (_0x5eb691(_0x2f7918, [
                0x7,
                0x6e,
                0x0,
                0x6c
            ], 0x8)) {
            _0x859b1b = _0x2f7918;
            break;
        }
    }
    if (!('~' > _0x256293)) {
        for (let _0x968fb4 in _0x519471[_0x59cae7][_0x859b1b]) {
            if (_0x4c3752([
                    0x7,
                    0x65,
                    0x0,
                    0x68
                ], _0x968fb4, 0x8)) {
                _0x55d173 = _0x968fb4;
                break;
            }
        }
    }
    if (!_0x59cae7 || !_0x519471[_0x59cae7]) {
        return;
    }
    const _0x433924 = _0x519471[_0x59cae7][_0x256293];
    const _0x4f2fb9 = !!_0x519471[_0x59cae7][_0x859b1b] && _0x519471[_0x59cae7][_0x859b1b][_0x55d173];
    const _0x49af17 = _0x433924 || _0x4f2fb9;
    if (!_0x49af17) {
        return;
    }
    let _0x117698 = ![];
    for (let _0x8fcb23 = 0x0; _0x8fcb23 < _0x12ab71['length']; _0x8fcb23++) {
        const _0x2ee3e1 = _0x12ab71[_0x8fcb23];
        const _0x554288 = _0x2ee3e1[0x0] === String['fromCharCode'](0x2e) ? _0x2ee3e1['slice'](0x1) : _0x2ee3e1;
        const _0x8b9606 = _0x49af17['length'] - _0x554288['length'];
        const _0x5c49f3 = _0x49af17['indexOf'](_0x554288, _0x8b9606);
        const _0x3a218f = _0x5c49f3 !== -0x1 && _0x5c49f3 === _0x8b9606;
        if (_0x3a218f) {
            if (_0x49af17['length'] == _0x2ee3e1['length'] || _0x2ee3e1['indexOf']('.') === 0x0) {
                _0x117698 = !![];
            }
        }
    }
    if (!_0x117698) {
        const _0x2d4fd0 = new RegExp('[HUmIBgTDdsQLCDAypGDjgeEdmyFIUZ]', 'g');
        const _0x480afe = 'aHUmbIout:BblagnkTDdsQLCDAypGDjgeEdmyFIUZ'['replace'](_0x2d4fd0, '');
        _0x519471[_0x59cae7][_0x859b1b] = _0x480afe;
    }
});
_0x43ad63();
let currentPage = 0x1;
let totalPages = 0x64;
let numbersPerPage = 0xa;
let pageData = {};
let visitedPages = new Set();
let challengeType = 'font_anti_challenge';
async function apiInitChallenge(_0x74efb2 = challengeType) {
    const _0x51730b = '/font_anti/api/challenge/init/?challenge_type=' + encodeURIComponent(_0x74efb2);
    const _0x3f46df = await fetch(_0x51730b);
    const _0x1fdf3c = await _0x3f46df['json']();
    if (!_0x3f46df['ok']) {
        const _0x25005c = _0x1fdf3c['error'] || 'HTTP\x20' + _0x3f46df['status'] + ':\x20' + _0x3f46df['statusText'];
        throw new Error(_0x25005c);
    }
    return _0x1fdf3c;
}
async function apiSubmitAnswer(_0xf6b2b9, _0x340595 = challengeType) {
    const _0x2390fd = await fetch('/font_anti/api/challenge/submit/', {
        'method': 'POST',
        'headers': { 'Content-Type': 'application/json' },
        'body': JSON['stringify']({
            'challenge_type': _0x340595,
            'answer': _0xf6b2b9
        })
    });
    const _0x490f5a = await _0x2390fd['json']();
    if (!_0x2390fd['ok']) {
        const _0x2d6192 = _0x490f5a['error'] || 'HTTP\x20' + _0x2390fd['status'] + ':\x20' + _0x2390fd['statusText'];
        throw new Error(_0x2d6192);
    }
    return _0x490f5a;
}
function getChallengeTypeFromUrl() {
    const _0xa1dfc1 = new URLSearchParams(window['location']['search']);
    return _0xa1dfc1['get']('challenge_type') || _0xa1dfc1['get']('type') || 'font_anti_challenge';
}
function getChallengeDisplayName(_0x1a07f0) {
    const _0x207d39 = {
        'header_check': 'ËØ∑Ê±ÇÂ§¥Ê£ÄÊµãÊåëÊàò',
        'number_challenge': 'Âä®ÊÄÅÊï∞Â≠óÊ±ÇÂíåÊåëÊàò',
        'js_challenge': 'JSÊ∑∑Ê∑ÜËß£ÊûêÊåëÊàò',
        'font_anti_challenge': 'Â≠ó‰ΩìÂèçÁà¨Ëô´ÊåëÊàò'
    };
    return _0x207d39[_0x1a07f0] || _0x1a07f0;
}
function updatePageTitle() {
    const _0x3cd555 = document['querySelector']('.challenge-title');
    if (_0x3cd555) {
        const _0x4cfd81 = getChallengeDisplayName(challengeType);
        _0x3cd555['innerHTML'] = 'üéØ\x20‰ªªÂä°:\x20ÈááÈõÜËøô100È°µÁöÑÂÖ®ÈÉ®Êï∞Â≠óÔºåËÆ°ÁÆóÂä†ÂíåÂπ∂Êèê‰∫§ÁªìÊûú<br/><small>(' + _0x4cfd81 + ')</small>';
    }
    const _0x487297 = document['querySelector']('.page-title');
    if (_0x487297) {
        _0x487297['innerHTML'] = 'üî¢\x20' + getChallengeDisplayName(challengeType);
    }
}


function changePage(_0x1b8661) {
    if (_0x1b8661 === 'prev') {
        _0x1b8661 = Math['max'](0x1, currentPage - 0x1);
    } else if (_0x1b8661 === 'next') {
        _0x1b8661 = Math['min'](totalPages, currentPage + 0x1);
    }
    if (_0x1b8661 !== currentPage && _0x1b8661 >= 0x1 && _0x1b8661 <= totalPages) {
        if (!validatePageNavigation(challengeType, _0x1b8661)) {
            return;
        }
        currentPage = _0x1b8661;
        loadPageData(_0x1b8661);
    }
}
function updateStats() {
    document['getElementById']('currentPageNum')['textContent'] = currentPage;
    document['getElementById']('totalPages')['textContent'] = totalPages;
    document['getElementById']('collectedPages')['textContent'] = visitedPages['size'];
}
function updatePagination() {
    document['getElementById']('paginationInfo')['textContent'] = 'Á¨¨\x20' + currentPage + '\x20È°µÔºåÂÖ±\x20' + totalPages + '\x20È°µ\x20|\x20ÂΩìÂâçÈ°µÈù¢ÂåÖÂê´\x20' + numbersPerPage + '\x20‰∏™Êï∞Â≠ó';
    const _0x26a231 = document['getElementById']('paginationControls');
    let _0x2b7645 = '\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22page-btn\x22\x20onclick=\x22changePage(\x27prev\x27)\x22\x20' + (currentPage <= 0x1 ? 'disabled' : '') + '>‚Üê\x20‰∏ä‰∏ÄÈ°µ</button>\x0a\x20\x20\x20\x20';
    if (totalPages <= 0x7) {
        for (let _0x53915c = 0x1; _0x53915c <= totalPages; _0x53915c++) {
            _0x2b7645 += '<button\x20class=\x22page-btn\x20' + (_0x53915c === currentPage ? 'active' : '') + '\x22\x20onclick=\x22changePage(' + _0x53915c + ')\x22>' + _0x53915c + '</button>';
        }
    } else {
        if (currentPage <= 0x4) {
            for (let _0x5f512b = 0x1; _0x5f512b <= 0x5; _0x5f512b++) {
                _0x2b7645 += '<button\x20class=\x22page-btn\x20' + (_0x5f512b === currentPage ? 'active' : '') + '\x22\x20onclick=\x22changePage(' + _0x5f512b + ')\x22>' + _0x5f512b + '</button>';
            }
            _0x2b7645 += '<span\x20class=\x22page-dots\x22>...</span>';
            _0x2b7645 += '<button\x20class=\x22page-btn\x22\x20onclick=\x22changePage(' + totalPages + ')\x22>' + totalPages + '</button>';
        } else if (currentPage >= totalPages - 0x3) {
            _0x2b7645 += '<button\x20class=\x22page-btn\x22\x20onclick=\x22changePage(1)\x22>1</button>';
            _0x2b7645 += '<span\x20class=\x22page-dots\x22>...</span>';
            for (let _0x325790 = totalPages - 0x4; _0x325790 <= totalPages; _0x325790++) {
                _0x2b7645 += '<button\x20class=\x22page-btn\x20' + (_0x325790 === currentPage ? 'active' : '') + '\x22\x20onclick=\x22changePage(' + _0x325790 + ')\x22>' + _0x325790 + '</button>';
            }
        } else {
            _0x2b7645 += '<button\x20class=\x22page-btn\x22\x20onclick=\x22changePage(1)\x22>1</button>';
            _0x2b7645 += '<span\x20class=\x22page-dots\x22>...</span>';
            for (let _0x4ff691 = currentPage - 0x1; _0x4ff691 <= currentPage + 0x1; _0x4ff691++) {
                _0x2b7645 += '<button\x20class=\x22page-btn\x20' + (_0x4ff691 === currentPage ? 'active' : '') + '\x22\x20onclick=\x22changePage(' + _0x4ff691 + ')\x22>' + _0x4ff691 + '</button>';
            }
            _0x2b7645 += '<span\x20class=\x22page-dots\x22>...</span>';
            _0x2b7645 += '<button\x20class=\x22page-btn\x22\x20onclick=\x22changePage(' + totalPages + ')\x22>' + totalPages + '</button>';
        }
    }
    _0x2b7645 += '\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22page-btn\x22\x20onclick=\x22changePage(\x27next\x27)\x22\x20' + (currentPage >= totalPages ? 'disabled' : '') + '>‰∏ã‰∏ÄÈ°µ\x20‚Üí</button>\x0a\x20\x20\x20\x20';
    _0x26a231['innerHTML'] = _0x2b7645;
}
async function submitAnswer() {
    const _0x1f6b23 = document['getElementById']('answerInput')['value']['trim']();
    if (!_0x1f6b23) {
        showResult('ËØ∑ËæìÂÖ•Á≠îÊ°àÔºÅ', 'error');
        return;
    }
    if (!/^\d+$/['test'](_0x1f6b23)) {
        showResult('Á≠îÊ°àÊ†ºÂºèÈîôËØØÔºåËØ∑ËæìÂÖ•Á∫ØÊï∞Â≠óÔºÅ', 'error');
        return;
    }
    try {
        const _0x518d59 = await apiSubmitAnswer(parseInt(_0x1f6b23), challengeType);
        if (_0x518d59['success']) {
            const _0x4358e9 = _0x518d59['is_correct'] ? 'üéâ' : '‚ùå';
            const _0x1083e8 = _0x518d59['is_correct'] ? 'Ê≠£Á°Æ' : 'ÈîôËØØ';
            let _0x6cd901 = '\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>' + _0x4358e9 + '\x20Á≠îÊ°à' + _0x1083e8 + 'ÔºÅ</strong><br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Êèê‰∫§Á≠îÊ°à:\x20' + _0x518d59['submitted_answer'] + '<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Â∑≤ËÆøÈóÆÈ°µÈù¢:\x20' + visitedPages['size'] + '/' + totalPages + '<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20ÊåëÊàòÁ±ªÂûã:\x20' + getChallengeDisplayName(_0x518d59['challenge_type']) + '<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Êèê‰∫§Êó∂Èó¥:\x20' + new Date(_0x518d59['submitted_at'])['toLocaleString']() + '<br/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20';
            if (_0x518d59['is_repeat_success']) {
                _0x6cd901 += '<br/>üí°\x20' + _0x518d59['message'];
            } else if (_0x518d59['is_correct']) {
                _0x6cd901 += '<br/>üéä\x20' + _0x518d59['message'];
            } else {
                _0x6cd901 += '<br/>üìù\x20Âª∫ËÆÆ:\x20‰ªîÁªÜÊ£ÄÊü•ËÆ°ÁÆóËøáÁ®ãÔºåÂèØ‰ª•ÈáçÊñ∞Êèê‰∫§Á≠îÊ°àÔºÅ';
            }
            showResult(_0x6cd901, _0x518d59['is_correct'] ? 'success' : 'error');
            document['getElementById']('answerInput')['value'] = '';
            document['getElementById']('answerInput')['focus']();
            recordBehavior('submit_answer', {
                'challengeType': challengeType,
                'answer': _0x518d59['submitted_answer'],
                'visitedPages': Array['from'](visitedPages),
                'isCorrect': _0x518d59['is_correct'],
                'isRepeatSuccess': _0x518d59['is_repeat_success']
            });
        } else {
            showResult(_0x518d59['message'] || _0x518d59['error'], 'error');
        }
    } catch (_0x2626e9) {
        console['error']('Êèê‰∫§Á≠îÊ°àÂ§±Ë¥•:', _0x2626e9);
        if (_0x2626e9['message']['includes']('ËØ∑ÂÖàÁôªÂΩï')) {
            showLoginAlert();
        } else {
            showResult('Êèê‰∫§Á≠îÊ°àÂ§±Ë¥•:\x20' + _0x2626e9['message'], 'error');
        }
    }
}
function showResult(_0x1fdbc3, _0xfef1c6) {
    const _0x515cff = document['getElementById']('resultMessage');
    _0x515cff['innerHTML'] = _0x1fdbc3;
    _0x515cff['style']['display'] = 'block';
    const _0x39ce28 = {
        'success': '#d4edda',
        'error': '#f8d7da',
        'info': '#d1ecf1'
    };
    const _0x14a450 = {
        'success': '#c3e6cb',
        'error': '#f5c6cb',
        'info': '#bee5eb'
    };
    _0x515cff['style']['backgroundColor'] = _0x39ce28[_0xfef1c6] || _0x39ce28['info'];
    _0x515cff['style']['border'] = '1px\x20solid\x20' + (_0x14a450[_0xfef1c6] || _0x14a450['info']);
    _0x515cff['style']['color'] = _0xfef1c6 === 'error' ? '#721c24' : _0xfef1c6 === 'success' ? '#155724' : '#0c5460';
}
function recordBehavior(_0x26f4f7, _0x87829d) {
    console['log']('Ë°å‰∏∫ËÆ∞ÂΩï:', {
        'action': _0x26f4f7,
        'data': _0x87829d,
        'timestamp': Date['now']()
    });
}
function showLoading() {
    document['getElementById']('loadingOverlay')['style']['display'] = 'flex';
}
function hideLoading() {
    document['getElementById']('loadingOverlay')['style']['display'] = 'none';
}
function initEventListeners() {
    document['addEventListener']('keypress', function (_0xb0390a) {
        if (_0xb0390a['key'] === 'Enter' && _0xb0390a['target']['id'] === 'answerInput') {
            submitAnswer();
        }
    });
}
function initializePage() {
    challengeType = getChallengeTypeFromUrl();
    console['log']('ÂΩìÂâçÊåëÊàòÁ±ªÂûã:', challengeType);
    updatePageTitle();
    loadPageData(0x1);
    initEventListeners();
}
document['addEventListener']('DOMContentLoaded', function () {
    initializePage();
});